import numpy as np
import matplotlib.pyplot as plt

from matplotlib.font_manager import FontProperties

font_axis = {'family' : 'Times New Roman',
'weight' : 'normal',
'size'  : 22,
}
font_axis2 = {'family' : 'sans',
'weight' : 'light',
'size'  : 18,
}


RED_GNN_t = [6.0, 12.09, 18.19, 24.41, 30.54, 36.87, 42.97, 49.07, 55.26, 61.37, 67.47, 73.46, 79.6, 85.72, 91.94, 97.97, 103.99, 110.22, 116.21, 122.29]
RED_GNN_m = [0.431, 0.488, 0.493, 0.502, 0.501, 0.5, 0.495, 0.501, 0.504, 0.501, 0.503, 0.498, 0.506, 0.503, 0.506, 0.501, 0.503, 0.503, 0.505, 0.497]

TNTComplEx_t = [0.12, 0.24, 0.35, 0.45, 0.55, 0.66, 0.76, 0.87, 0.97, 1.07, 1.17, 1.27, 1.37, 1.46, 1.56, 1.67, 1.77, 1.88, 1.97, 2.07, 2.17, 2.27, 2.37, 2.46, 2.56, 2.66, 2.76, 2.86, 2.95, 3.05, 3.15, 3.24, 3.34, 3.43, 3.52, 3.62, 3.72, 3.81, 3.91, 4.0, 4.1, 4.19, 4.29, 4.38, 4.48, 4.57, 4.67, 4.77, 4.86, 4.96, 5.07, 5.17, 5.27, 5.38, 5.48, 5.58, 5.68, 5.79, 5.89, 5.99, 6.09, 6.2, 6.3, 6.41, 6.51, 6.62, 6.73, 6.83, 6.93, 7.04, 7.14, 7.24, 7.34, 7.44, 7.54, 7.64, 7.74, 7.84, 7.94, 8.04, 8.14, 8.24, 8.35, 8.45, 8.56, 8.66, 8.76, 8.87, 8.98, 9.09, 9.2, 9.31, 9.41, 9.52, 9.62, 9.73, 9.85, 9.96, 10.06, 10.16, 10.26, 10.36, 10.47, 10.58, 10.7, 10.81, 10.92, 11.02, 11.13, 11.25, 11.36, 11.48, 11.59, 11.7, 11.8, 11.9, 12.01, 12.11, 12.22, 12.31, 12.41, 12.51, 12.61, 12.72, 12.84, 12.95, 13.05, 13.17, 13.28, 13.39, 13.5, 13.6, 13.71, 13.82, 13.93, 14.03, 14.13, 14.25, 14.35, 14.46, 14.56, 14.66, 14.76, 14.87, 14.98, 15.09, 15.2, 15.3, 15.4, 15.51, 15.64, 15.76, 15.87, 15.97, 16.07, 16.18, 16.29, 16.4, 16.52, 16.64, 16.75, 16.87, 16.98, 17.1, 17.22, 17.33, 17.45, 17.55, 17.67, 17.79, 17.91, 18.02, 18.15, 18.26, 18.37, 18.5, 18.61, 18.72, 18.82, 18.93, 19.03, 19.14, 19.24, 19.34, 19.45, 19.57, 19.68, 19.8, 19.92, 20.04, 20.16, 20.28, 20.39, 20.49, 20.61, 20.73, 20.85, 20.95, 21.05, 21.15]
TNTComplEx_m = [0.519, 0.542, 0.549, 0.553, 0.555, 0.556, 0.556, 0.557, 0.557, 0.558, 0.558, 0.558, 0.559, 0.557, 0.557, 0.558, 0.558, 0.559, 0.558, 0.558, 0.558, 0.559, 0.56, 0.56, 0.559, 0.559, 0.56, 0.56, 0.56, 0.559, 0.559, 0.559, 0.559, 0.56, 0.559, 0.56, 0.56, 0.56, 0.56, 0.56, 0.56, 0.56, 0.559, 0.559, 0.56, 0.559, 0.559, 0.559, 0.559, 0.56, 0.559, 0.559, 0.559, 0.559, 0.559, 0.559, 0.559, 0.559, 0.559, 0.559, 0.56, 0.559, 0.559, 0.56, 0.559, 0.559, 0.56, 0.559, 0.56, 0.56, 0.56, 0.56, 0.56, 0.559, 0.56, 0.559, 0.56, 0.559, 0.56, 0.56, 0.56, 0.56, 0.56, 0.56, 0.56, 0.56, 0.56, 0.56, 0.559, 0.56, 0.559, 0.559, 0.56, 0.56, 0.56, 0.56, 0.56, 0.56, 0.56, 0.56, 0.559, 0.56, 0.56, 0.56, 0.56, 0.56, 0.56, 0.56, 0.56, 0.56, 0.56, 0.56, 0.56, 0.56, 0.561, 0.561, 0.56, 0.561, 0.56, 0.561, 0.56, 0.561, 0.561, 0.561, 0.56, 0.56, 0.561, 0.561, 0.561, 0.561, 0.56, 0.561, 0.56, 0.56, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.562, 0.561, 0.562, 0.562, 0.562, 0.562, 0.562, 0.562, 0.562, 0.561, 0.562, 0.562, 0.562, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561, 0.561]

TeMP_t = [17.23, 18.95, 20.68, 22.4, 24.12, 25.84, 27.57, 29.29, 31.01, 32.74, 34.46, 36.18, 37.91, 39.63, 41.35, 43.07, 44.8, 46.52, 48.24, 49.97, 51.69, 53.41, 55.13, 56.86, 58.58, 60.3, 62.03, 63.75, 65.47, 67.2, 68.92, 70.64, 72.36, 74.09, 75.81, 77.53, 79.26, 80.98, 84.43, 86.15, 87.87, 89.59, 93.04, 94.76, 96.49, 98.21, 99.93, 103.38, 106.82, 108.55, 110.27, 111.99, 113.72, 115.44, 117.16, 118.88, 124.05, 127.5, 130.95, 136.11, 137.84, 139.56, 149.9, 153.34, 158.51, 161.96, 163.68, 179.19, 182.63, 187.8, 189.53, 194.7, 203.31, 205.03, 211.92, 222.26, 234.32]
TeMP_m = [0.378, 0.386, 0.399, 0.406, 0.412, 0.419, 0.423, 0.428, 0.434, 0.438, 0.443, 0.451, 0.456, 0.463, 0.467, 0.472, 0.479, 0.481, 0.49, 0.493, 0.497, 0.501, 0.503, 0.508, 0.512, 0.516, 0.517, 0.524, 0.525, 0.527, 0.53, 0.533, 0.537, 0.537, 0.543, 0.545, 0.546, 0.55, 0.551, 0.552, 0.553, 0.558, 0.559, 0.56, 0.563, 0.567, 0.569, 0.572, 0.573, 0.574, 0.574, 0.574, 0.577, 0.579, 0.581, 0.582, 0.584, 0.586, 0.586, 0.588, 0.589, 0.593, 0.594, 0.595, 0.598, 0.598, 0.6, 0.602, 0.603, 0.604, 0.606, 0.608, 0.609, 0.609, 0.61, 0.613, 0.614]

TGAP_t = [0.0, 40.6, 80.91, 121.86, 163.04, 204.73, 246.59]
TGAP_m = [0.557, 0.576, 0.584, 0.588, 0.595, 0.597, 0.599]

TRED_GNN_t = [8.5, 17.13, 25.71, 34.23, 42.82, 51.28, 59.65, 68.47, 76.98, 85.58, 94.19, 102.37, 111.22, 119.49, 128.38, 136.29, 144.19, 153.24, 161.9, 170.38]
TRED_GNN_m = [0.554, 0.574, 0.594, 0.602, 0.608, 0.618, 0.620, 0.624, 0.628, 0.629, 0.627, 0.635, 0.629, 0.633, 0.630, 0.634, 0.632, 0.634, 0.632, 0.636]


RED_GNN_t = np.array(RED_GNN_t) / 60 
RED_GNN_m = np.array(RED_GNN_m) * 1.01

TNTComplEx_t = np.array(TNTComplEx_t) / 60 
TNTComplEx_m = np.array(TNTComplEx_m) * 1.005

TeMP_t = np.array(TeMP_t) / 60 
TeMP_m = np.array(TeMP_m) * 1.01

TGAP_t = (np.array(TGAP_t)+40) / 60 
TGAP_m = np.array(TGAP_m) * 1.02

TRED_GNN_t = np.array(TRED_GNN_t) / 60 
TRED_GNN_m = np.array(TRED_GNN_m) * 1.02

fig = plt.figure(figsize=(7,5), dpi=400)

plt.plot(RED_GNN_t, RED_GNN_m, label='RED-GNN', color='red')
plt.plot(TNTComplEx_t, TNTComplEx_m, label='TNTComplEx', linestyle='-.', color='black')
plt.plot(TeMP_t, TeMP_m, label='TeMP', linestyle='--', color='royalblue')
plt.plot(TGAP_t, TGAP_m, label='T-GAP', linestyle='--', color='limegreen')
plt.plot(TRED_GNN_t, TRED_GNN_m, label='T-RED-GNN', marker='.', color='red')

plt.xlim(0, 4)
plt.ylim(0.4, 0.66)
plt.xticks([0,1,2,3,4], fontsize=16)
plt.yticks([0.4, 0.45, 0.5, 0.55, 0.6, 0.65],fontsize=16)
plt.grid(axis="x", alpha=0.2)
plt.grid(axis="y", alpha=0.2)
plt.title('ICEWS14', font_axis)
plt.xlabel('Training time (in hours)', font_axis2)
plt.ylabel('Testing MRR', font_axis2)
plt.legend(loc='lower right')
plt.savefig('./0828icews14In_curve.pdf', bbox_inches='tight', pad_inches=0.02)
plt.show()